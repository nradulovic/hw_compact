Version 4
SHEET 1 6124 2336
WIRE -176 -1088 -192 -1088
WIRE -16 -1088 -112 -1088
WIRE 112 -1088 48 -1088
WIRE 192 -1088 176 -1088
WIRE 480 -1088 192 -1088
WIRE 672 -1088 480 -1088
WIRE 768 -1088 672 -1088
WIRE 1344 -1088 768 -1088
WIRE 1392 -1088 1344 -1088
WIRE 1440 -1088 1392 -1088
WIRE 1536 -1088 1440 -1088
WIRE 1632 -1088 1616 -1088
WIRE 192 -1072 192 -1088
WIRE 672 -1072 672 -1088
WIRE 768 -1072 768 -1088
WIRE 192 -976 192 -992
WIRE -192 -944 -192 -1088
WIRE 192 -896 -128 -896
WIRE 192 -848 192 -896
WIRE 768 -848 768 -992
WIRE -192 -800 -192 -848
WIRE 128 -800 -192 -800
WIRE 672 -800 672 -992
WIRE 672 -800 288 -800
WIRE 704 -800 672 -800
WIRE 672 -784 672 -800
WIRE 1344 -784 1344 -1088
WIRE 672 -704 672 -720
WIRE 768 -704 768 -752
WIRE 768 -704 672 -704
WIRE 1056 -704 768 -704
WIRE 1152 -704 1056 -704
WIRE 1168 -704 1152 -704
WIRE 1296 -704 1248 -704
WIRE 1440 -688 1440 -1088
WIRE -192 -656 -192 -800
WIRE 1152 -608 1152 -704
WIRE 1168 -608 1152 -608
WIRE 1392 -608 1248 -608
WIRE 1152 -592 1152 -608
WIRE 288 -560 288 -800
WIRE 480 -560 480 -1088
WIRE 224 -512 0 -512
WIRE 576 -512 544 -512
WIRE 1152 -464 1152 -528
WIRE 288 -416 288 -464
WIRE 480 -416 480 -464
WIRE 768 -416 768 -704
WIRE 960 -416 768 -416
WIRE 1248 -416 1216 -416
WIRE 1344 -416 1344 -688
WIRE 1344 -416 1328 -416
WIRE 768 -400 768 -416
WIRE 960 -368 960 -416
WIRE 288 -320 288 -336
WIRE 288 -320 96 -320
WIRE 480 -320 480 -336
WIRE 480 -320 288 -320
WIRE 896 -320 768 -320
WIRE 1248 -320 1248 -416
WIRE 1344 -320 1344 -416
WIRE 1440 -320 1440 -592
WIRE 1056 -304 1056 -704
WIRE -96 -224 -112 -224
WIRE 576 -224 576 -512
WIRE 576 -224 -16 -224
WIRE 768 -224 768 -320
WIRE 1152 -224 1152 -368
WIRE 1248 -224 1248 -240
WIRE 1248 -224 1152 -224
WIRE 1344 -224 1344 -240
WIRE 1344 -224 1248 -224
WIRE 1440 -224 1440 -240
WIRE 1440 -224 1344 -224
WIRE 1536 -224 1440 -224
WIRE 1632 -224 1616 -224
WIRE 1248 -208 1248 -224
WIRE 1344 -208 1344 -224
WIRE 1440 -208 1440 -224
WIRE -96 -128 -112 -128
WIRE 0 -128 0 -512
WIRE 0 -128 -16 -128
WIRE 192 -128 192 -752
WIRE 288 -128 192 -128
WIRE 480 -128 288 -128
WIRE 288 -112 288 -128
WIRE 480 -112 480 -128
WIRE 768 -112 768 -144
WIRE 960 -112 960 -272
WIRE 1152 -80 1152 -224
WIRE 960 -32 960 -48
WIRE 960 -32 768 -32
WIRE 1248 -32 1248 -128
WIRE 1248 -32 1216 -32
WIRE 1344 -32 1344 -128
WIRE 1344 -32 1328 -32
WIRE 288 16 288 -32
WIRE 480 16 480 -32
WIRE 0 64 0 -128
WIRE 224 64 0 64
WIRE 576 64 576 -224
WIRE 576 64 544 64
WIRE 1152 80 1152 16
WIRE 1440 144 1440 -128
WIRE 1152 160 1152 144
WIRE 1168 160 1152 160
WIRE 1392 160 1248 160
WIRE 1344 240 1344 -32
WIRE 768 256 768 -32
WIRE 768 256 672 256
WIRE 1056 256 1056 -240
WIRE 1056 256 768 256
WIRE 1152 256 1152 160
WIRE 1152 256 1056 256
WIRE 1168 256 1152 256
WIRE 1296 256 1248 256
WIRE 672 272 672 256
WIRE 96 304 96 -320
WIRE 768 304 768 256
WIRE -192 352 -192 -576
WIRE 32 352 -192 352
WIRE 288 352 288 112
WIRE 672 352 672 336
WIRE 672 352 288 352
WIRE 704 352 672 352
WIRE -192 400 -192 352
WIRE 96 448 96 400
WIRE 96 448 -128 448
WIRE 96 544 96 448
WIRE 672 544 672 352
WIRE 768 544 768 400
WIRE -192 640 -192 496
WIRE -176 640 -192 640
WIRE -80 640 -112 640
WIRE 16 640 -16 640
WIRE 96 640 96 624
WIRE 96 640 80 640
WIRE 480 640 480 112
WIRE 480 640 96 640
WIRE 672 640 672 624
WIRE 672 640 480 640
WIRE 768 640 768 624
WIRE 768 640 672 640
WIRE 1344 640 1344 336
WIRE 1344 640 768 640
WIRE 1440 640 1440 240
WIRE 1440 640 1344 640
WIRE 1536 640 1440 640
WIRE 1632 640 1616 640
FLAG 1632 -1088 pvcc
IOPIN 1632 -1088 In
FLAG 1632 640 pvee
IOPIN 1632 640 In
FLAG 1632 -224 out
IOPIN 1632 -224 Out
FLAG -112 -128 ninv
IOPIN -112 -128 In
FLAG -112 -224 inv
IOPIN -112 -224 In
FLAG 1392 -1088 pvcc_i
FLAG 1248 -224 out_i
SYMBOL pnp 224 112 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q11
SYMATTR Value CA_BC560C
SYMBOL res 752 -1088 R0
SYMATTR InstName R16
SYMATTR Value {rvase}
SYMBOL res 1264 -720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value {rdrvb}
SYMBOL res 752 -240 R0
WINDOW 3 36 76 Invisible 2
SYMATTR Value {1+(500*BIAS)}
SYMATTR InstName PBIAS1
SYMBOL res 752 -416 R0
SYMATTR InstName R52
SYMATTR Value 5k6
SYMBOL npn 704 304 R0
SYMATTR InstName Q3
SYMATTR Value 2SC3503F
SYMBOL res 752 528 R0
SYMATTR InstName R6
SYMATTR Value {rvase}
SYMBOL pnp 544 112 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q7
SYMATTR Value CA_BC560C
SYMBOL npn 896 -368 R0
SYMATTR InstName Q21
SYMATTR Value MJE340
SYMBOL res 752 -128 R0
SYMATTR InstName R37
SYMATTR Value 1k3
SYMBOL res 1328 -336 R0
SYMATTR InstName R14
SYMATTR Value 0.15
SYMBOL res 1328 -224 R0
SYMATTR InstName R21
SYMATTR Value 0.22
SYMBOL ind -112 -112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind -112 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind 1520 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L10
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1520 -1072 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L9
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1520 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L12
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL res 1264 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {rdrvb}
SYMBOL nmos 1296 -784 R0
SYMATTR InstName M1
SYMATTR Value CA_IRFP240C
SYMBOL pmos 1296 336 M180
SYMATTR InstName M2
SYMATTR Value CA_IRFP9240C
SYMBOL diode 944 -112 R0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL pnp 704 -752 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q9
SYMATTR Value 2SA1381F
SYMBOL diode 1136 -592 R0
SYMATTR InstName D9
SYMATTR Value BAV21
SYMBOL diode 1136 80 R0
SYMATTR InstName D10
SYMATTR Value BAV21
SYMBOL res 656 528 R0
SYMATTR InstName R1
SYMATTR Value {rvasb}
SYMBOL res 656 -1088 R0
SYMATTR InstName R5
SYMATTR Value {rvasb}
SYMBOL cap 1040 -304 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL res 272 -128 R0
SYMATTR InstName R4
SYMATTR Value {rltpe}
SYMBOL cap 656 272 R0
SYMATTR InstName C3
SYMATTR Value 47p
SYMBOL cap 656 -784 R0
SYMATTR InstName C4
SYMATTR Value 47p
SYMBOL res 464 -128 R0
SYMATTR InstName R3
SYMATTR Value {rltpe}
SYMBOL pnp 128 -752 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q6
SYMATTR Value 2SA1381F
SYMBOL npn 544 -560 M0
SYMATTR InstName Q1
SYMATTR Value CA_BC550C
SYMBOL npn 224 -560 R0
SYMATTR InstName Q2
SYMATTR Value CA_BC550C
SYMBOL npn 32 304 R0
SYMATTR InstName Q8
SYMATTR Value 2SC3503F
SYMBOL res 272 -432 R0
SYMATTR InstName R9
SYMATTR Value {rltpe}
SYMBOL res 464 -432 R0
SYMATTR InstName R12
SYMATTR Value {rltpe}
SYMBOL npn 1216 -464 M0
SYMATTR InstName Q10
SYMATTR Value CA_BC550C
SYMBOL pnp 1216 16 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q12
SYMATTR Value CA_BC560C
SYMBOL res 1232 -336 R0
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res 1232 -224 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res 1344 -432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 91
SYMBOL res 1344 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 150
SYMBOL res 176 -1088 R0
SYMATTR InstName R10
SYMATTR Value {rltpcs}
SYMBOL pnp -128 -848 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q4
SYMATTR Value 2SA1381F
SYMBOL npn -128 400 M0
SYMATTR InstName Q13
SYMATTR Value 2SC3503F
SYMBOL res 80 528 R0
SYMATTR InstName R7
SYMATTR Value {rltpcs}
SYMBOL res -208 -672 R0
SYMATTR InstName R2
SYMATTR Value 8k2
SYMBOL res 176 -992 R0
SYMATTR InstName R17
SYMATTR Value 20
SYMBOL res 1264 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value {rdrvb}
SYMBOL res 1424 -336 R0
SYMATTR InstName R20
SYMATTR Value 0.15
SYMBOL res 1424 -224 R0
SYMATTR InstName R22
SYMATTR Value 0.22
SYMBOL nmos 1392 -688 R0
SYMATTR InstName M3
SYMATTR Value CA_IRFP240C
SYMBOL res 1264 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value {rdrvb}
SYMBOL pmos 1392 240 M180
SYMATTR InstName M4
SYMATTR Value CA_IRFP9240C
SYMBOL diode 176 -1104 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 48 -1104 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -176 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -80 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode -112 -1104 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode 16 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
TEXT -1344 -656 Left 2 !.param rltpe=100
TEXT 1280 -272 Left 2 ;5W
TEXT 1280 -184 Left 2 ;5W
TEXT -1344 -896 Left 2 !.lib ../spice_root/lib/ONNN_BJT.lib
TEXT -1344 -832 Left 2 !.lib ../spice_root/lib/STM_D.lib
TEXT -1344 -928 Left 2 !.lib ../spice_root/lib/FCS_BJT.lib
TEXT -1344 -864 Left 2 !.lib ../spice_root/lib/ONNN_D.lib
TEXT -1344 -800 Left 2 !.lib ../spice_root/lib/TSE_BJT.lib
TEXT -1344 -560 Left 2 !.param rdrvb=100
TEXT -1344 -768 Left 2 !.lib ../spice_root/lib/VSH_FET.lib
TEXT -1344 -688 Left 2 !.param rltpcs=510
TEXT -1344 -624 Left 2 !.param rvase=100
TEXT -1344 -592 Left 2 !.param rvasb=1k
TEXT -1344 -528 Left 2 !.param rltpcse=300
RECTANGLE Normal -544 -736 -1376 -960
RECTANGLE Normal -544 -496 -1376 -720
