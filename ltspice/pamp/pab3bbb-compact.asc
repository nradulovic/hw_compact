Version 4
SHEET 1 6124 2336
WIRE 1536 -1536 1472 -1536
WIRE 1648 -1536 1616 -1536
WIRE 1776 -1536 1728 -1536
WIRE 1824 -1536 1776 -1536
WIRE 2176 -1536 2144 -1536
WIRE 2288 -1536 2256 -1536
WIRE 2944 -1536 2368 -1536
WIRE 1824 -1520 1824 -1536
WIRE 992 -1472 976 -1472
WIRE 1008 -1472 992 -1472
WIRE 992 -1456 992 -1472
WIRE 1824 -1424 1824 -1440
WIRE 992 -1360 992 -1376
WIRE 992 -1344 992 -1360
WIRE 2176 -1344 2144 -1344
WIRE 2288 -1344 2256 -1344
WIRE 2656 -1344 2368 -1344
WIRE 1536 -1328 1472 -1328
WIRE 1648 -1328 1616 -1328
WIRE 1776 -1328 1728 -1328
WIRE 1824 -1328 1824 -1344
WIRE 1824 -1328 1776 -1328
WIRE 896 -1264 896 -1472
WIRE 1088 -1264 1088 -1472
WIRE 992 -1216 992 -1264
WIRE 1024 -1216 992 -1216
WIRE 2176 -1056 2144 -1056
WIRE 2288 -1056 2256 -1056
WIRE 2656 -1056 2656 -1264
WIRE 2656 -1056 2368 -1056
WIRE 1408 -928 1408 -960
WIRE 2176 -864 2144 -864
WIRE 2288 -864 2256 -864
WIRE 2560 -864 2368 -864
WIRE 2656 -864 2656 -976
WIRE 2656 -864 2640 -864
WIRE 2672 -864 2656 -864
WIRE 2944 -864 2944 -1536
WIRE 2944 -864 2752 -864
WIRE 960 -832 960 -928
WIRE 960 -832 912 -832
WIRE 1408 -768 1408 -848
WIRE 416 -736 128 -736
WIRE 608 -736 496 -736
WIRE 864 -736 864 -928
WIRE 880 -736 864 -736
WIRE 960 -736 960 -832
WIRE 960 -736 944 -736
WIRE 976 -736 960 -736
WIRE 1056 -736 1056 -928
WIRE 1056 -736 1040 -736
WIRE 432 -640 320 -640
WIRE 608 -640 496 -640
WIRE 2368 -576 2368 -864
WIRE 2576 -576 2368 -576
WIRE 2656 -576 2656 -864
WIRE 2656 -576 2640 -576
WIRE 2672 -576 2656 -576
WIRE 2944 -576 2944 -864
WIRE 2944 -576 2736 -576
WIRE 128 -544 128 -736
WIRE 128 -544 32 -544
WIRE 144 -544 128 -544
WIRE 224 -544 208 -544
WIRE 320 -544 320 -640
WIRE 320 -544 304 -544
WIRE 416 -544 320 -544
WIRE 608 -544 496 -544
WIRE 1408 -512 800 -512
WIRE -192 -464 -192 -512
WIRE 2368 -384 2368 -576
WIRE 2560 -384 2368 -384
WIRE 2944 -384 2944 -576
WIRE 2944 -384 2752 -384
WIRE -384 -368 -384 -384
WIRE -288 -368 -288 -384
WIRE -192 -368 -192 -384
WIRE 2368 -368 2368 -384
WIRE 2560 -368 2560 -384
WIRE 2752 -368 2752 -384
WIRE 2944 -368 2944 -384
WIRE 1504 -336 1504 -448
WIRE 320 -304 320 -544
WIRE 608 -304 320 -304
WIRE -480 -272 -480 -304
WIRE -384 -272 -384 -288
WIRE -288 -272 -288 -288
WIRE -192 -272 -192 -288
WIRE 1168 -256 1120 -256
WIRE 1248 -256 1248 -352
WIRE 1264 -256 1264 -352
WIRE 1408 -256 1408 -512
WIRE 1408 -256 1344 -256
WIRE 1504 -256 1504 -272
WIRE 1504 -256 1408 -256
WIRE 1696 -256 1504 -256
WIRE 1712 -256 1696 -256
WIRE 1888 -256 1888 -448
WIRE 1888 -256 1792 -256
WIRE 1408 -240 1408 -256
WIRE 608 -208 320 -208
WIRE 2368 -192 2368 -304
WIRE 2944 -192 2944 -304
WIRE 2944 -192 2368 -192
WIRE -480 -176 -480 -192
WIRE -384 -176 -384 -192
WIRE -288 -176 -288 -192
WIRE -192 -176 -192 -192
WIRE 1696 -160 1696 -256
WIRE 1712 -160 1696 -160
WIRE 1792 -160 1792 -256
WIRE 1408 -144 1408 -160
WIRE 1504 -144 1504 -256
WIRE 2560 -96 2560 -304
WIRE 2752 -96 2752 -304
WIRE 2752 -96 2560 -96
WIRE 2944 -96 2752 -96
WIRE 1408 -64 1408 -80
WIRE 1504 -64 1504 -80
WIRE 144 32 48 32
WIRE 224 32 208 32
WIRE 320 32 320 -208
WIRE 320 32 304 32
WIRE 416 32 320 32
WIRE 800 32 800 -512
WIRE 800 32 496 32
WIRE 2368 96 2368 -192
WIRE 2384 96 2368 96
WIRE 2576 96 2464 96
WIRE 2656 96 2656 -576
WIRE 2656 96 2640 96
WIRE 2672 96 2656 96
WIRE 2864 96 2752 96
WIRE 2944 96 2944 -96
WIRE 2944 96 2928 96
WIRE 448 192 256 192
WIRE 544 192 448 192
WIRE 640 192 544 192
WIRE 832 192 640 192
WIRE 1408 192 832 192
WIRE 1600 192 1408 192
WIRE 1696 192 1600 192
WIRE 1792 192 1776 192
WIRE 2368 192 2368 96
WIRE 2560 192 2368 192
WIRE 2656 192 2656 96
WIRE 2656 192 2640 192
WIRE 2848 192 2656 192
WIRE 2944 192 2944 96
WIRE 2944 192 2928 192
WIRE 256 208 256 192
WIRE 640 208 640 192
WIRE 832 208 832 192
WIRE 544 304 544 192
WIRE 448 336 448 192
WIRE 256 384 256 288
WIRE 384 384 256 384
WIRE 256 432 256 384
WIRE 640 432 640 288
WIRE 832 432 832 288
WIRE 448 480 448 432
WIRE 448 480 320 480
WIRE 736 480 704 480
WIRE 768 480 736 480
WIRE 448 496 448 480
WIRE 544 576 544 368
WIRE 544 576 448 576
WIRE 640 576 640 528
WIRE 736 576 736 480
WIRE 736 576 640 576
WIRE 1408 624 1408 192
WIRE 544 672 544 656
WIRE 640 672 640 576
WIRE 832 672 832 528
WIRE 928 672 832 672
WIRE 1024 672 1008 672
WIRE 1120 672 1024 672
WIRE 1216 672 1120 672
WIRE 1232 672 1216 672
WIRE 1344 672 1312 672
WIRE 736 688 736 576
WIRE 1600 720 1600 192
WIRE -16 768 -32 768
WIRE 448 768 64 768
WIRE 640 768 640 752
WIRE 736 768 736 752
WIRE 736 768 640 768
WIRE 1408 768 1408 720
WIRE 1424 768 1408 768
WIRE 1536 768 1504 768
WIRE 1216 784 1216 672
WIRE 256 864 256 528
WIRE 256 864 160 864
WIRE 352 864 256 864
WIRE 832 864 832 672
WIRE 1408 864 1408 768
WIRE 1600 864 1600 816
WIRE 160 880 160 864
WIRE 352 880 352 864
WIRE 1120 880 1120 672
WIRE 1216 880 1216 848
WIRE 1024 912 1024 672
WIRE 832 960 832 944
WIRE 960 960 832 960
WIRE 1216 960 1216 944
WIRE 1344 960 1216 960
WIRE 1600 960 1600 944
WIRE 1600 960 1344 960
WIRE 1696 960 1600 960
WIRE 1792 960 1776 960
WIRE 1216 976 1216 960
WIRE 1600 976 1600 960
WIRE 160 1008 160 960
WIRE 352 1008 352 960
WIRE -16 1056 -32 1056
WIRE 96 1056 64 1056
WIRE 448 1056 448 768
WIRE 448 1056 416 1056
WIRE 832 1056 832 960
WIRE 1216 1072 1216 1040
WIRE 1600 1104 1600 1056
WIRE 832 1152 832 1136
WIRE 1408 1152 1408 944
WIRE 1424 1152 1408 1152
WIRE 1536 1152 1504 1152
WIRE 1408 1200 1408 1152
WIRE 448 1248 448 1056
WIRE 752 1248 448 1248
WIRE 832 1248 832 1232
WIRE 832 1248 816 1248
WIRE 1024 1248 1024 1008
WIRE 1024 1248 832 1248
WIRE 1120 1248 1120 944
WIRE 1120 1248 1024 1248
WIRE 1216 1248 1216 1136
WIRE 1216 1248 1120 1248
WIRE 1232 1248 1216 1248
WIRE 1344 1248 1312 1248
WIRE 640 1296 640 768
WIRE 160 1344 160 1104
WIRE 176 1344 160 1344
WIRE 272 1344 256 1344
WIRE 352 1344 352 1104
WIRE 352 1344 336 1344
WIRE 576 1344 352 1344
WIRE 832 1392 832 1248
WIRE 160 1440 160 1344
WIRE 768 1440 160 1440
WIRE 640 1536 640 1392
WIRE 832 1536 832 1488
WIRE 160 1632 160 1440
WIRE 352 1632 352 1344
WIRE 640 1632 640 1616
WIRE 832 1632 832 1616
WIRE 832 1632 640 1632
WIRE 160 1728 160 1712
WIRE 352 1728 352 1712
WIRE 352 1728 160 1728
WIRE 832 1728 832 1712
WIRE 832 1728 352 1728
WIRE 1408 1728 1408 1296
WIRE 1408 1728 832 1728
WIRE 1600 1728 1600 1200
WIRE 1600 1728 1408 1728
WIRE 1696 1728 1600 1728
WIRE 1792 1728 1776 1728
FLAG 992 -1472 x
FLAG 992 -1360 xp
FLAG 1408 -64 pwrgnd
IOPIN 1408 -64 In
FLAG 48 32 sgnd
IOPIN 48 32 In
FLAG -384 -176 sgnd
IOPIN -384 -176 In
FLAG -384 -384 intermet
IOPIN -384 -384 Out
FLAG 2144 -1536 vcc
IOPIN 2144 -1536 Out
FLAG 2144 -864 vee
IOPIN 2144 -864 Out
FLAG 2144 -1344 gspk
IOPIN 2144 -1344 Out
FLAG 2144 -1056 pwrgnd
IOPIN 2144 -1056 Out
FLAG 1888 -448 speaker
IOPIN 1888 -448 Out
FLAG 1472 -1536 speaker
IOPIN 1472 -1536 In
FLAG -288 -384 impulse
IOPIN -288 -384 Out
FLAG 896 -1264 AC1
IOPIN 896 -1264 BiDir
FLAG 1088 -1264 AC2
IOPIN 1088 -1264 BiDir
FLAG 1248 -352 AC1
IOPIN 1248 -352 BiDir
FLAG 1264 -352 AC2
IOPIN 1264 -352 BiDir
FLAG 1776 -1536 SPK+
FLAG 1776 -1328 SPK-
FLAG -192 -512 imd
IOPIN -192 -512 Out
FLAG -288 -176 sgnd
IOPIN -288 -176 In
FLAG -192 -176 sgnd
IOPIN -192 -176 In
FLAG 1408 -960 sgnd
IOPIN 1408 -960 In
FLAG 1056 -928 vee
IOPIN 1056 -928 In
FLAG 864 -928 vcc
IOPIN 864 -928 In
FLAG 960 -928 pwrgnd
IOPIN 960 -928 In
FLAG 1024 -1216 0
FLAG 1408 -768 pwrgnd
IOPIN 1408 -768 In
FLAG 912 -832 0
FLAG 1472 -1328 0
FLAG 608 -640 sgnd
IOPIN 608 -640 In
FLAG -480 -176 sgnd
IOPIN -480 -176 In
FLAG -480 -304 sinus
IOPIN -480 -304 Out
FLAG 608 -736 sgnd
IOPIN 608 -736 In
FLAG 1504 -448 vcc
IOPIN 1504 -448 In
FLAG 1504 -64 vee
IOPIN 1504 -64 In
FLAG 608 -544 sgnd
IOPIN 608 -544 In
FLAG 1792 192 vcc
IOPIN 1792 192 In
FLAG 1792 1728 vee
IOPIN 1792 1728 In
FLAG 1792 960 pout
IOPIN 1792 960 Out
FLAG -32 1056 ninv
IOPIN -32 1056 In
FLAG -32 768 inv
IOPIN -32 768 In
FLAG 1344 960 out_i
FLAG 608 -304 ninv
FLAG 608 -208 inv
FLAG 544 672 pwrgnd
IOPIN 544 672 In
FLAG 1120 -256 pout
FLAG 32 -544 sinus
IOPIN 32 -544 Out
SYMBOL res 320 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {nfb1}
SYMBOL current 992 -1376 R180
WINDOW 0 24 77 Left 2
WINDOW 3 24 0 Invisible 2
WINDOW 123 -71 178 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Ii
SYMATTR Value 0
SYMATTR Value2 AC {u(prb)}
SYMBOL voltage 992 -1472 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 -97 96 VBottom 2
WINDOW 39 -32 56 VBottom 2
SYMATTR InstName Vi
SYMATTR Value 0
SYMATTR Value2 AC {u(-prb)}
SYMBOL ind2 1696 -240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName LTRF
SYMATTR Value 4µ
SYMATTR SpiceLine Rser=10m Rpar=3meg Cpar=1p
SYMATTR Type ind
SYMBOL res 1696 -144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R19
SYMATTR Value 4.7
SYMBOL res 512 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {nfb2}
SYMBOL voltage 992 -1472 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL schottky 2736 -304 M180
WINDOW 0 24 72 Left 2
WINDOW 3 -14 -112 Left 2
SYMATTR InstName D6
SYMATTR Value GBPC3502
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2352 -368 R0
WINDOW 3 -144 95 Left 2
SYMATTR Value GBPC3502
SYMATTR InstName D9
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 2656 192 M270
WINDOW 123 0 0 Left 2
WINDOW 3 -96 -62 Invisible 2
SYMATTR Value SINE(0 {supplyVLT*sqrt(2)} 50 1m 0 {phi})
SYMATTR SpiceLine Rser={rser}
SYMATTR InstName V3
SYMBOL res 1392 -256 R0
SYMATTR InstName R54
SYMATTR Value 10
SYMBOL voltage 992 -1360 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value 0
SYMATTR InstName V18
SYMBOL cap 1392 -144 R0
SYMATTR InstName C24
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL polcap 208 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1m
SYMATTR SpiceLine V=6.3 Irms=1.44 Rser=0.09 Lser=5.5n Rpar=1110k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL schottky 2928 -304 M180
WINDOW 0 24 72 Left 2
WINDOW 3 -112 -78 Left 2
SYMATTR InstName D10
SYMATTR Value GBPC3502
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2544 -368 R0
WINDOW 3 -239 65 Left 2
SYMATTR Value GBPC3502
SYMATTR InstName D11
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind2 2160 -1520 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LVCC
SYMATTR Value {con1_len*7n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL ind2 2160 -848 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LVEE
SYMATTR Value {con1_len*27n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL voltage -384 -288 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 10m 10 0 5)
SYMATTR InstName V11
SYMBOL ind2 2160 -1328 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LGSPK2
SYMATTR Value {con1_len*17n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL res 2384 -1552 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 25m
SYMBOL res 2384 -1360 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 25m
SYMBOL res 2384 -1072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 15m
SYMBOL res 2384 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 25m
SYMBOL ind 2640 -1072 R0
SYMATTR InstName L4
SYMATTR Value 4n
SYMATTR SpiceLine Rser=1m
SYMBOL ind 2640 -1360 R0
SYMATTR InstName L6
SYMATTR Value 4n
SYMATTR SpiceLine Rser=1m
SYMBOL ind2 1520 -1520 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LSPKP
SYMATTR Value {con2_len*7n}
SYMATTR SpiceLine Rser={con2_len*.5m}
SYMATTR Type ind
SYMBOL ind2 1520 -1312 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LSPKN2
SYMATTR Value {con2_len*7n}
SYMATTR SpiceLine Rser={con2_len*.5m}
SYMATTR Type ind
SYMBOL res 1744 -1552 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R41
SYMATTR Value 15m
SYMBOL res 1744 -1344 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R43
SYMATTR Value 15m
SYMBOL voltage -288 -288 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 {vinput} 1u 1n 1n {1/(freq*2)} {1/freq})
SYMATTR InstName V7
SYMBOL voltage -288 -384 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 {-vinput} {1u+(1/(freq*2))} 1n 1n {1/(freq*2)} {1/freq})
SYMATTR InstName V8
SYMBOL voltage 1152 -256 R270
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL voltage 1360 -256 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL voltage -192 -288 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 19k)
SYMATTR InstName V9
SYMBOL voltage -192 -384 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 20k 0 0)
SYMATTR InstName V10
SYMBOL cap 2576 80 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C23
SYMATTR Value 470n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2768 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R46
SYMATTR Value 10k
SYMBOL res 1392 -944 R0
SYMATTR InstName R49
SYMATTR Value 10
SYMBOL res 2480 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value .47
SYMBOL res 320 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {nfb1}
SYMBOL res 512 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {nfb2}
SYMBOL polcap 208 -528 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C13
SYMATTR Value 100µ
SYMATTR SpiceLine V=6.3 Irms=1.44 Rser=0.09 Lser=5.5n Rpar=1110k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL cap 944 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL voltage -192 -480 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 60 0 0)
SYMATTR InstName V5
SYMBOL ind2 2160 -1040 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LPWRGND
SYMATTR Value {con1_len*7n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL cap 496 -656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 1n8
SYMBOL voltage -384 -384 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 310m 10 0 5)
SYMATTR InstName V14
SYMBOL voltage -480 -288 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 0 0 0 0)
SYMATTR InstName V15
SYMBOL res 1808 -1536 R0
SYMATTR InstName R9
SYMATTR Value {Zreal}
SYMBOL ind 1808 -1440 R0
SYMATTR InstName L1
SYMATTR Value {Zimg}
SYMBOL res 512 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL polcap 2736 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 10m
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL schottky 1488 -272 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value MBR20100CT
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1488 -80 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value MBR20100CT
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1040 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2656 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL polcap 2640 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10m
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL voltage 2944 192 M270
WINDOW 123 0 0 Left 2
WINDOW 3 -96 -62 Invisible 2
SYMATTR Value SINE(0 {supplyVLT*sqrt(2)} 50 1m 0 {phi})
SYMATTR SpiceLine Rser={rser}
SYMATTR InstName V2
SYMBOL cap 2864 80 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 470n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2768 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value .47
SYMBOL pnp 96 1104 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q1
SYMATTR Value CA_BC560C
SYMBOL res 816 192 R0
SYMATTR InstName R5
SYMATTR Value 51
SYMBOL res 1328 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 24
SYMBOL res 816 1040 R0
WINDOW 3 36 76 Invisible 2
SYMATTR Value {1+(500*BIAS)}
SYMATTR InstName PBIAS1
SYMBOL res 816 848 R0
SYMATTR InstName R7
SYMATTR Value 1k5
SYMBOL npn 768 1392 R0
SYMATTR InstName Q2
SYMATTR Value 2SC3503F
SYMBOL res 816 1616 R0
SYMATTR InstName R8
SYMATTR Value 27
SYMBOL pnp 416 1104 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q3
SYMATTR Value CA_BC560C
SYMBOL npn 960 912 R0
SYMATTR InstName Q4
SYMATTR Value MJE340
SYMBOL res 816 1136 R0
SYMATTR InstName R11
SYMATTR Value 300
SYMBOL res 1584 848 R0
SYMATTR InstName R13
SYMATTR Value 0.22
SYMBOL res 1584 960 R0
SYMATTR InstName R14
SYMATTR Value 0.22
SYMBOL ind -32 1072 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind -32 784 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind 1680 976 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1680 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1680 1744 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL res 1328 1232 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 24
SYMBOL pnp 768 528 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q5
SYMATTR Value 2SA1381F
SYMBOL diode 1200 848 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BAV21
SYMBOL diode 1200 1136 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BAV21
SYMBOL cap 1104 880 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMATTR SpiceLine Rser=220m Lser=5n Rpar=800k Cpar=1p
SYMBOL res 144 864 R0
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL cap 816 1232 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100p
SYMATTR SpiceLine Rser=970m Lser=5n Rpar=2meg Cpar=1p
SYMBOL res 336 864 R0
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL pnp 320 528 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q6
SYMATTR Value 2SA1381F
SYMBOL res 432 480 R0
SYMATTR InstName R21
SYMATTR Value 3k
SYMBOL res 240 192 R0
SYMATTR InstName R22
SYMATTR Value 150
SYMBOL npn 1536 720 R0
SYMATTR InstName Q7
SYMATTR Value CA_NJL3281
SYMBOL npn 1344 624 R0
SYMATTR InstName Q8
SYMATTR Value CA_MJE15032C
SYMBOL pnp 1536 1200 M180
SYMATTR InstName Q9
SYMATTR Value CA_NJL1302
SYMBOL pnp 1344 1296 M180
SYMATTR InstName Q10
SYMATTR Value CA_MJE15033C
SYMBOL res 1024 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 22
SYMBOL cap 528 304 R0
SYMATTR InstName C7
SYMATTR Value 470µ
SYMATTR SpiceLine Rser=112m Lser=5n Rpar=600k Cpar=1p
SYMBOL res 1392 848 R0
SYMATTR InstName R24
SYMATTR Value 100
SYMBOL res 1520 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 2.4
SYMBOL res 1520 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 2.4
SYMBOL diode 1200 944 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value BAV21
SYMBOL diode 1200 1040 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value BAV21
SYMBOL res 144 1616 R0
SYMATTR InstName R29
SYMATTR Value 750
SYMBOL res 528 560 R0
SYMATTR InstName R30
SYMATTR Value 3k
SYMBOL pnp 384 432 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q11
SYMATTR Value CA_BC560C
SYMBOL res 336 1616 R0
SYMATTR InstName R31
SYMATTR Value 750
SYMBOL npn 576 1296 R0
SYMATTR InstName Q12
SYMATTR Value 2SC3503F
SYMBOL pnp 704 528 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q13
SYMATTR Value 2SA1381F
SYMBOL res 624 192 R0
SYMATTR InstName R32
SYMATTR Value 51
SYMBOL res 816 1520 R0
SYMATTR InstName R33
SYMATTR Value 10
SYMBOL res 624 1520 R0
SYMATTR InstName R34
SYMATTR Value 10
SYMBOL res 624 656 R0
SYMATTR InstName R35
SYMATTR Value 1k5
SYMBOL cap 720 688 R0
SYMATTR InstName C10
SYMATTR Value 10n
SYMATTR SpiceLine Rser=970m Lser=5n Rpar=2meg Cpar=1p
SYMBOL res 272 1328 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value 300
SYMBOL cap 336 1328 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 100p
SYMATTR SpiceLine Rser=970m Lser=5n Rpar=2meg Cpar=1p
TEXT 144 -1488 Left 2 !.op
TEXT -560 -1344 Left 2 !.option plotwinsize=0
TEXT -560 -1312 Left 2 !.option noopiter
TEXT -560 -1616 Left 2 ;Transient
TEXT -560 -1456 Left 2 !.four {freq} 10 10 v(SPK+,SPK-)
TEXT 144 -1520 Left 2 !.param prb=0
TEXT -560 -1520 Left 2 !.param timestep={1/((65536/8)*freq)}
TEXT -560 -1552 Left 2 !.param freq=1e3
TEXT -560 -1488 Left 2 !.param stoptime {iterations/freq}
TEXT 144 -1584 Left 2 ;.ac oct 100 10 100meg
TEXT 144 -1552 Left 2 ;.step param prb list -1 1
TEXT 144 -1616 Left 2 ;AC analysis
TEXT -560 -1424 Left 2 !.param iterations=80
TEXT 152 -1280 Left 2 !.param Zimp=.1
TEXT 1376 -1216 Left 2 !.param Zreal Zimp/2
TEXT 1376 -1184 Left 2 !.param Zimg (Zimp*sqrt(3))/(4*pi*freq)
TEXT 152 -1248 Left 2 !.param supplyPWR=40
TEXT 152 -1216 Left 2 !.param supplyVLT={18}
TEXT 152 -1312 Left 2 !.param voutput=16
TEXT 152 -1184 Left 2 !.param supplyK 0.06
TEXT 2064 304 Left 2 !.param rser {(supplyVLT*supplyVLT*supplyK)/(2*supplyPWR)}
TEXT -560 -1584 Left 2 !.tran 0 {stoptime} 100n {timestep}
TEXT 2064 336 Left 2 !.param phi=90
TEXT 504 -1312 Left 2 !.param con1_len=5
TEXT 504 -1280 Left 2 !.param con2_len 10
TEXT 1376 -1248 Left 2 !KCON2 LSPKP LSPKN2 0.8
TEXT 1360 -1616 Left 2 ;Konektor zvucnika i zvucnik
TEXT 2032 -1616 Left 2 ;Konektor napajanja, star ground i napajanje
TEXT 152 -1344 Left 2 ;Ulazni parametri kola
TEXT 992 -1616 Center 2 ;AC sonda
TEXT -560 -1248 Left 2 !.lib ../spice_root/lib/FCS_D.lib
TEXT 504 -1248 Left 2 !.param BIAS=0.48
TEXT -560 -1280 Left 2 !.param vinput voutput*(nfb1/nfb2)
TEXT 504 -1216 Left 2 !.param nfb1=200
TEXT 504 -1184 Left 2 !.param nfb2=3k
TEXT 432 -40 Left 2 ;0.5W
TEXT 1488 -200 Left 2 ;1W
TEXT 1736 -104 Left 2 ;1W
TEXT -544 -1088 Left 2 ;4 ohm, 10 cycles, 90W
TEXT -544 -1056 Left 2 ;8 ohm, 10 cycles, 50W
TEXT 152 -1456 Left 2 ;.step temp 0 60 20
TEXT 1528 848 Left 2 ;5W
TEXT 1528 1000 Left 2 ;5W
TEXT 2048 560 Left 2 !.lib ../spice_root/lib/ONNN_BJT.lib
TEXT 2048 624 Left 2 !.lib ../spice_root/lib/STM_D.lib
TEXT 2048 528 Left 2 !.lib ../spice_root/lib/FCS_BJT.lib
TEXT 2048 592 Left 2 !.lib ../spice_root/lib/ONNN_D.lib
TEXT 2048 656 Left 2 !.lib ../spice_root/lib/TSE_BJT.lib
TEXT 2048 688 Left 2 !.lib ../spice_root/lib/VSH_FET.lib
RECTANGLE Normal 96 -1632 -576 -1392
RECTANGLE Normal 96 -1152 -576 -1360
RECTANGLE Normal 800 -1632 128 -1392
RECTANGLE Normal 1952 -1152 1344 -1632 2
RECTANGLE Normal 1120 -1152 864 -1632 2
RECTANGLE Normal 2400 -816 2160 -1584 2
RECTANGLE Normal 800 -1152 128 -1360
RECTANGLE Normal 3264 384 2016 -1632 2
RECTANGLE Normal 2848 720 2016 496
