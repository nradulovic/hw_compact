Version 4
SHEET 1 6124 2336
WIRE 1536 -1536 1472 -1536
WIRE 1648 -1536 1616 -1536
WIRE 1776 -1536 1728 -1536
WIRE 1824 -1536 1776 -1536
WIRE 2176 -1536 2144 -1536
WIRE 2288 -1536 2256 -1536
WIRE 2944 -1536 2368 -1536
WIRE 1824 -1520 1824 -1536
WIRE 992 -1472 976 -1472
WIRE 1008 -1472 992 -1472
WIRE 992 -1456 992 -1472
WIRE 1824 -1424 1824 -1440
WIRE 992 -1360 992 -1376
WIRE 992 -1344 992 -1360
WIRE 1536 -1328 1472 -1328
WIRE 1648 -1328 1616 -1328
WIRE 1776 -1328 1728 -1328
WIRE 1824 -1328 1824 -1344
WIRE 1824 -1328 1776 -1328
WIRE 896 -1264 896 -1472
WIRE 1088 -1264 1088 -1472
WIRE 992 -1216 992 -1264
WIRE 1024 -1216 992 -1216
WIRE 64 -1056 -32 -1056
WIRE 352 -1056 64 -1056
WIRE 448 -1056 352 -1056
WIRE 640 -1056 448 -1056
WIRE 1216 -1056 640 -1056
WIRE 1408 -1056 1216 -1056
WIRE 1504 -1056 1408 -1056
WIRE 1600 -1056 1504 -1056
WIRE 1696 -1056 1600 -1056
WIRE 1792 -1056 1776 -1056
WIRE 2176 -1056 2144 -1056
WIRE 2288 -1056 2256 -1056
WIRE 2656 -1056 2368 -1056
WIRE -32 -1040 -32 -1056
WIRE 352 -1040 352 -1056
WIRE 448 -1040 448 -1056
WIRE 640 -1040 640 -1056
WIRE 1216 -1040 1216 -1056
WIRE 64 -960 64 -1056
WIRE 448 -944 448 -976
WIRE 1408 -944 1408 -1056
WIRE 1600 -944 1600 -1056
WIRE 1696 -944 1696 -1056
WIRE 1216 -896 1216 -960
WIRE 1232 -896 1216 -896
WIRE 1344 -896 1312 -896
WIRE -288 -864 -288 -912
WIRE -32 -864 -32 -880
WIRE 64 -864 64 -880
WIRE 64 -864 -32 -864
WIRE 1600 -864 1600 -880
WIRE 1696 -864 1696 -880
WIRE 1696 -864 1600 -864
WIRE 1792 -864 1776 -864
WIRE 2176 -864 2144 -864
WIRE 2288 -864 2256 -864
WIRE 2560 -864 2368 -864
WIRE 2656 -864 2656 -976
WIRE 2656 -864 2640 -864
WIRE 2672 -864 2656 -864
WIRE 2944 -864 2944 -1536
WIRE 2944 -864 2752 -864
WIRE 1696 -848 1696 -864
WIRE 64 -816 64 -864
WIRE 640 -816 640 -960
WIRE -480 -768 -480 -784
WIRE -384 -768 -384 -784
WIRE -288 -768 -288 -784
WIRE 448 -768 448 -880
WIRE 448 -768 128 -768
WIRE 464 -768 448 -768
WIRE 576 -768 544 -768
WIRE 1600 -768 1600 -864
WIRE 1792 -768 1696 -768
WIRE 2368 -768 2368 -864
WIRE 2576 -768 2368 -768
WIRE 2656 -768 2656 -864
WIRE 2656 -768 2640 -768
WIRE 2672 -768 2656 -768
WIRE 2944 -768 2944 -864
WIRE 2944 -768 2736 -768
WIRE 448 -752 448 -768
WIRE 1216 -720 1216 -896
WIRE -576 -672 -576 -704
WIRE -480 -672 -480 -688
WIRE -384 -672 -384 -688
WIRE -288 -672 -288 -688
WIRE 352 -672 352 -976
WIRE 448 -672 352 -672
WIRE 640 -672 640 -720
WIRE 736 -672 640 -672
WIRE 832 -672 816 -672
WIRE 928 -672 832 -672
WIRE 1024 -672 928 -672
WIRE 1040 -672 1024 -672
WIRE 1152 -672 1120 -672
WIRE 1696 -672 1696 -688
WIRE 1792 -672 1696 -672
WIRE 1504 -656 1504 -1056
WIRE -576 -576 -576 -592
WIRE -480 -576 -480 -592
WIRE -384 -576 -384 -592
WIRE -288 -576 -288 -592
WIRE 448 -576 448 -592
WIRE 1216 -576 1216 -624
WIRE 1232 -576 1216 -576
WIRE 1408 -576 1408 -848
WIRE 1408 -576 1312 -576
WIRE 2368 -576 2368 -768
WIRE 2560 -576 2368 -576
WIRE 2944 -576 2944 -768
WIRE 2944 -576 2752 -576
WIRE 2368 -560 2368 -576
WIRE 2560 -560 2560 -576
WIRE 2752 -560 2752 -576
WIRE 2944 -560 2944 -576
WIRE 64 -480 64 -720
WIRE 64 -480 -32 -480
WIRE 256 -480 64 -480
WIRE 640 -480 640 -672
WIRE 1408 -480 1408 -576
WIRE -32 -464 -32 -480
WIRE 256 -464 256 -480
WIRE 928 -464 928 -672
WIRE 1024 -464 1024 -672
WIRE 832 -432 832 -672
WIRE 640 -384 640 -400
WIRE 768 -384 640 -384
WIRE 1024 -384 1024 -400
WIRE 1152 -384 1024 -384
WIRE 1408 -384 1408 -400
WIRE 1408 -384 1152 -384
WIRE 1504 -384 1504 -592
WIRE 1504 -384 1408 -384
WIRE 1520 -384 1504 -384
WIRE 1600 -384 1600 -480
WIRE 1616 -384 1616 -480
WIRE 1760 -384 1696 -384
WIRE 1856 -384 1760 -384
WIRE 1872 -384 1856 -384
WIRE 1952 -384 1952 -480
WIRE 2368 -384 2368 -496
WIRE 2944 -384 2944 -496
WIRE 2944 -384 2368 -384
WIRE 640 -368 640 -384
WIRE 1024 -368 1024 -384
WIRE 1408 -368 1408 -384
WIRE 1760 -368 1760 -384
WIRE -32 -336 -32 -384
WIRE 256 -336 256 -384
WIRE -416 -288 -512 -288
WIRE -400 -288 -416 -288
WIRE -320 -288 -336 -288
WIRE -224 -288 -240 -288
WIRE -128 -288 -224 -288
WIRE -96 -288 -128 -288
WIRE 352 -288 320 -288
WIRE 1856 -288 1856 -384
WIRE 1872 -288 1856 -288
WIRE 1952 -288 1952 -384
WIRE 2560 -288 2560 -496
WIRE 2752 -288 2752 -496
WIRE 2752 -288 2560 -288
WIRE 2944 -288 2752 -288
WIRE 640 -272 640 -288
WIRE 1760 -272 1760 -288
WIRE 1232 -192 1216 -192
WIRE 1408 -192 1408 -288
WIRE 1408 -192 1312 -192
WIRE 2368 -192 2368 -384
WIRE 2384 -192 2368 -192
WIRE 2576 -192 2464 -192
WIRE 2656 -192 2656 -768
WIRE 2656 -192 2640 -192
WIRE 2672 -192 2656 -192
WIRE 2864 -192 2752 -192
WIRE 2944 -192 2944 -288
WIRE 2944 -192 2928 -192
WIRE 1216 -144 1216 -192
WIRE 1504 -112 1504 -384
WIRE -416 -96 -416 -288
WIRE -128 -96 -128 -288
WIRE 560 -96 448 -96
WIRE 640 -96 640 -192
WIRE 640 -96 624 -96
WIRE 832 -96 832 -336
WIRE 832 -96 640 -96
WIRE 928 -96 928 -400
WIRE 928 -96 832 -96
WIRE 1024 -96 1024 -304
WIRE 1024 -96 928 -96
WIRE 1040 -96 1024 -96
WIRE 1152 -96 1120 -96
WIRE 2368 -96 2368 -192
WIRE 2560 -96 2368 -96
WIRE 2656 -96 2656 -192
WIRE 2656 -96 2640 -96
WIRE 2848 -96 2656 -96
WIRE 2944 -96 2944 -192
WIRE 2944 -96 2928 -96
WIRE -224 -80 -224 -288
WIRE 640 -80 640 -96
WIRE 1760 -64 1760 -208
WIRE 832 -48 832 -96
WIRE -416 0 -416 -16
WIRE -416 0 -608 0
WIRE -224 0 -224 -16
WIRE -224 0 -416 0
WIRE -128 0 -128 -16
WIRE -128 0 -224 0
WIRE 768 0 640 0
WIRE -224 16 -224 0
WIRE 640 48 640 0
WIRE -32 96 -32 -240
WIRE 448 96 448 -96
WIRE 448 96 -32 96
WIRE 576 96 448 96
WIRE 448 144 448 96
WIRE 1408 144 1408 -192
WIRE -224 192 -224 96
WIRE -32 192 -32 96
WIRE 544 192 512 192
WIRE 640 192 640 144
WIRE 640 192 624 192
WIRE 1216 192 1216 -48
WIRE 1232 192 1216 192
WIRE 1344 192 1312 192
WIRE 928 208 928 192
WIRE 1600 208 1600 192
WIRE 1696 208 1696 192
WIRE -32 288 -32 272
WIRE 256 288 256 -240
WIRE 256 288 -32 288
WIRE 640 288 640 192
WIRE 640 288 256 288
WIRE 832 288 832 48
WIRE 832 288 640 288
WIRE 1216 288 1216 192
WIRE 448 384 448 240
WIRE 640 384 640 368
WIRE 640 384 448 384
WIRE 928 384 928 272
WIRE 928 384 640 384
WIRE 1024 384 1008 384
WIRE 1216 384 1216 368
WIRE 1408 384 1408 240
WIRE 1408 384 1216 384
WIRE 1504 384 1504 -48
WIRE 1504 384 1408 384
WIRE 1600 384 1600 272
WIRE 1600 384 1584 384
WIRE 1696 384 1696 272
WIRE 1696 384 1600 384
WIRE 1888 384 1696 384
WIRE 2176 384 1968 384
WIRE 1024 448 1024 384
WIRE 1504 448 1024 448
WIRE 1696 448 1696 384
WIRE 1696 448 1584 448
WIRE -128 480 -128 0
WIRE -112 480 -128 480
WIRE -32 480 -48 480
WIRE 352 480 352 -288
WIRE 352 480 48 480
WIRE 448 480 352 480
WIRE 1856 480 1856 -288
WIRE 1856 480 528 480
FLAG 992 -1472 x
FLAG 992 -1360 xp
FLAG 1760 -64 pwrgnd
IOPIN 1760 -64 In
FLAG -480 -576 sgnd
IOPIN -480 -576 In
FLAG -480 -784 intermet
IOPIN -480 -784 Out
FLAG 2144 -1536 vcc
IOPIN 2144 -1536 Out
FLAG 2144 -864 vee
IOPIN 2144 -864 Out
FLAG 2144 -1056 pwrgnd
IOPIN 2144 -1056 Out
FLAG 1952 -480 speaker
IOPIN 1952 -480 Out
FLAG 1472 -1536 speaker
IOPIN 1472 -1536 In
FLAG -384 -784 impulse
IOPIN -384 -784 Out
FLAG 896 -1264 AC1
IOPIN 896 -1264 BiDir
FLAG 1088 -1264 AC2
IOPIN 1088 -1264 BiDir
FLAG 1600 -480 AC1
IOPIN 1600 -480 BiDir
FLAG 1616 -480 AC2
IOPIN 1616 -480 BiDir
FLAG 1776 -1536 SPK+
FLAG 1776 -1328 SPK-
FLAG -288 -912 imd
IOPIN -288 -912 Out
FLAG -384 -576 sgnd
IOPIN -384 -576 In
FLAG -288 -576 sgnd
IOPIN -288 -576 In
FLAG -608 0 sgnd
IOPIN -608 0 In
FLAG 1024 -1216 0
FLAG -576 -576 sgnd
IOPIN -576 -576 In
FLAG -576 -704 sinus
IOPIN -576 -704 Out
FLAG 1792 -1056 vcc
IOPIN 1792 -1056 In
FLAG 2176 384 vee
IOPIN 2176 384 In
FLAG 1152 -384 out_i
FLAG 448 -576 pwrgnd
IOPIN 448 -576 In
FLAG 1600 -768 0
FLAG 1792 -864 pwrgnd
IOPIN 1792 -864 Out
FLAG 1472 -1328 spkgnd
IOPIN 1472 -1328 Out
FLAG 1792 -768 spkgnd
IOPIN 1792 -768 Out
FLAG 1792 -672 lngnd
IOPIN 1792 -672 Out
FLAG -224 192 lngnd
IOPIN -224 192 Out
FLAG 1600 192 0
FLAG 1696 192 0
FLAG 928 192 0
FLAG -512 -288 imd
IOPIN -512 -288 Out
SYMBOL res 64 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {nfb1}
SYMBOL current 992 -1376 R180
WINDOW 0 24 77 Left 2
WINDOW 3 24 0 Invisible 2
WINDOW 123 -71 178 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Ii
SYMATTR Value 0
SYMATTR Value2 AC {u(prb)}
SYMBOL voltage 992 -1472 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 -97 96 VBottom 2
WINDOW 39 -32 56 VBottom 2
SYMATTR InstName Vi
SYMATTR Value 0
SYMATTR Value2 AC {u(-prb)}
SYMBOL ind2 1856 -368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName LTRF
SYMATTR Value 4µ
SYMATTR SpiceLine Rser=10m Rpar=3meg Cpar=1p
SYMATTR Type ind
SYMBOL res 1856 -272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R19
SYMATTR Value 4.7
SYMBOL res 544 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {nfb2}
SYMBOL voltage 992 -1472 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL schottky 2736 -496 M180
WINDOW 0 24 72 Left 2
WINDOW 3 -14 -112 Left 2
SYMATTR InstName D6
SYMATTR Value GBPC3502
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2352 -560 R0
WINDOW 3 -144 95 Left 2
SYMATTR Value GBPC3502
SYMATTR InstName D9
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 2656 -96 M270
WINDOW 123 0 0 Left 2
WINDOW 3 -96 -62 Invisible 2
SYMATTR Value SINE(0 {supplyVLT*sqrt(2)} 50 1m 0 {phi})
SYMATTR SpiceLine Rser={rser}
SYMATTR InstName V3
SYMBOL res 1744 -384 R0
SYMATTR InstName R54
SYMATTR Value 10
SYMBOL voltage 992 -1360 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value 0
SYMATTR InstName V18
SYMBOL cap 1744 -272 R0
SYMATTR InstName C24
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL polcap -48 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1m
SYMATTR SpiceLine V=6.3 Irms=1.44 Rser=0.09 Lser=5.5n Rpar=1110k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL schottky 2928 -496 M180
WINDOW 0 24 72 Left 2
WINDOW 3 -112 -78 Left 2
SYMATTR InstName D10
SYMATTR Value GBPC3502
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2544 -560 R0
WINDOW 3 -239 65 Left 2
SYMATTR Value GBPC3502
SYMATTR InstName D11
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind2 2160 -1520 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LVCC
SYMATTR Value {con1_len*7n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL ind2 2160 -848 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LVEE
SYMATTR Value {con1_len*27n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL voltage -480 -688 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 10m 10 0 5)
SYMATTR InstName V11
SYMBOL res 2384 -1552 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 25m
SYMBOL res 2384 -1072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 15m
SYMBOL res 2384 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 25m
SYMBOL ind 2640 -1072 R0
SYMATTR InstName L4
SYMATTR Value 4n
SYMATTR SpiceLine Rser=1m
SYMBOL ind2 1520 -1520 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LSPKP
SYMATTR Value {con2_len*7n}
SYMATTR SpiceLine Rser={con2_len*.5m}
SYMATTR Type ind
SYMBOL ind2 1520 -1312 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LSPKN2
SYMATTR Value {con2_len*7n}
SYMATTR SpiceLine Rser={con2_len*.5m}
SYMATTR Type ind
SYMBOL res 1744 -1552 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R41
SYMATTR Value 15m
SYMBOL res 1744 -1344 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R43
SYMATTR Value 15m
SYMBOL voltage -384 -688 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 {vinput} 1u 1n 1n {1/(freq*2)} {1/freq})
SYMATTR InstName V7
SYMBOL voltage -384 -784 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 {-vinput} {1u+(1/(freq*2))} 1n 1n {1/(freq*2)} {1/freq})
SYMATTR InstName V8
SYMBOL voltage 1504 -384 R270
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL voltage 1712 -384 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL voltage -288 -688 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 19k)
SYMATTR InstName V9
SYMBOL voltage -288 -784 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 20k 0 0)
SYMATTR InstName V10
SYMBOL cap 2576 -208 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C23
SYMATTR Value 470n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2768 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R46
SYMATTR Value 10k
SYMBOL res -240 0 R0
SYMATTR InstName R49
SYMATTR Value 10
SYMBOL res 2480 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value .47
SYMBOL res -224 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {nfb1}
SYMBOL res -144 -112 R0
SYMATTR InstName R3
SYMATTR Value {nfb2}
SYMBOL polcap -336 -272 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C13
SYMATTR Value 100µ
SYMATTR SpiceLine V=25 Irms=0.44 Rser=0.19 Lser=4.5n Rpar=4110k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL cap 1584 -944 R0
SYMATTR InstName C8
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL voltage -288 -880 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 {vinput/3} 60 0 0)
SYMATTR InstName V5
SYMBOL ind2 2160 -1040 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LPWRGND
SYMATTR Value {con1_len*7n}
SYMATTR SpiceLine Rser={con1_len*.5m}
SYMATTR Type ind
SYMBOL voltage -480 -784 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 310m 10 0 5)
SYMATTR InstName V14
SYMBOL voltage -576 -688 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value SINE(0 {vinput} {freq} 0 0 0 0)
SYMATTR InstName V15
SYMBOL res 1808 -1536 R0
SYMATTR InstName R9
SYMATTR Value {Zreal}
SYMBOL ind 1808 -1440 R0
SYMATTR InstName L1
SYMATTR Value {Zimg}
SYMBOL res -432 -112 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL polcap 2736 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 4m7
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL schottky 1488 -592 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value MBR20100CT
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1488 -48 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value MBR20100CT
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1584 208 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2656 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL polcap 2640 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 4m7
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL voltage 2944 -96 M270
WINDOW 123 0 0 Left 2
WINDOW 3 -96 -62 Invisible 2
SYMATTR Value SINE(0 {supplyVLT*sqrt(2)} 50 1m 0 {phi})
SYMATTR SpiceLine Rser={rser}
SYMATTR InstName V2
SYMBOL cap 2864 -208 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 470n
SYMATTR SpiceLine Rser=700m Lser=7n Rpar=4.4meg Cpar=1p
SYMBOL res 2768 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value .47
SYMBOL pnp -96 -240 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q1
SYMATTR Value CA_BC560C
SYMBOL res 624 -1056 R0
SYMATTR InstName R5
SYMATTR Value 39
SYMBOL res 1136 -688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 33
SYMBOL res 624 -384 R0
WINDOW 3 36 76 Invisible 2
SYMATTR Value {1+(500*BIAS)}
SYMATTR InstName PBIAS1
SYMBOL res 624 -496 R0
SYMATTR InstName R7
SYMATTR Value 680
SYMBOL npn 576 48 R0
SYMATTR InstName Q2
SYMATTR Value 2SC3503F
SYMBOL pnp 320 -240 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q3
SYMATTR Value CA_BC560C
SYMBOL npn 768 -432 R0
SYMATTR InstName Q4
SYMATTR Value MJE340
SYMBOL res 624 -288 R0
SYMATTR InstName R11
SYMATTR Value 240
SYMBOL ind 1680 -1040 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMATTR Value 100n
SYMATTR SpiceLine Rser=20m
SYMBOL ind 1872 400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 100n
SYMATTR SpiceLine Rser=20m
SYMBOL res 1136 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 33
SYMBOL pnp 576 -720 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q5
SYMATTR Value 2SA1381F
SYMBOL res -48 -480 R0
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL cap 624 -112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 68p
SYMATTR SpiceLine Rser=970m Lser=5n Rpar=2meg Cpar=1p
SYMBOL res 240 -480 R0
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL pnp 128 -720 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q6
SYMATTR Value 2SA1381F
SYMBOL res 432 -768 R0
SYMATTR InstName R21
SYMATTR Value 3k
SYMBOL res 48 -976 R0
SYMATTR InstName R22
SYMATTR Value 200
SYMBOL npn 1152 -720 R0
SYMATTR InstName Q8
SYMATTR Value CA_MJE243
SYMBOL pnp 1152 -48 M180
SYMATTR InstName Q10
SYMATTR Value CA_MJE253
SYMBOL res 832 -688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 20
SYMBOL res 1328 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 3.3
SYMBOL res 1328 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 3.3
SYMBOL diode 1008 -400 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value BAV21
SYMBOL diode 1008 -304 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value BAV21
SYMBOL cap -240 -80 R0
SYMATTR InstName C9
SYMATTR Value 2n7
SYMATTR SpiceLine Rser=970m Lser=5n Rpar=2meg Cpar=1p
SYMBOL ind 1392 -384 R0
SYMATTR InstName L2
SYMATTR Value 200n
SYMATTR SpiceLine Rser=0.22 Rpar=100meg Cpar=1p
SYMBOL ind 1392 -496 R0
SYMATTR InstName L3
SYMATTR Value 200n
SYMATTR SpiceLine Rser=0.22 Rpar=100meg Cpar=1p
SYMBOL res 1328 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 3.3
SYMBOL res 1200 -1056 R0
SYMATTR InstName R30
SYMATTR Value 33
SYMBOL res 1328 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R35
SYMATTR Value 3.3
SYMBOL res 1200 272 R0
SYMATTR InstName R37
SYMATTR Value 33
SYMBOL pnp 1344 -848 M180
SYMATTR InstName Q7
SYMATTR Value MJL1302A
SYMBOL npn 1344 144 R0
SYMATTR InstName Q9
SYMATTR Value MJL3281A
SYMBOL diode 432 -1040 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 432 -944 R0
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL res 432 -688 R0
SYMATTR InstName R31
SYMATTR Value 3k
SYMBOL polcap 336 -1040 R0
SYMATTR InstName C7
SYMATTR Value 470µ
SYMATTR SpiceLine V=25 Irms=1.44 Rser=0.19 Lser=4.5n Rpar=1810k Cpar=2p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL polcap 912 -464 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMATTR SpiceLine V=25 Irms=0.44 Rser=0.19 Lser=4.5n Rpar=4110k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL polcap 1680 -944 R0
SYMATTR InstName C14
SYMATTR Value 2m2
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL polcap 1680 208 R0
SYMATTR InstName C15
SYMATTR Value 2m2
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL ind 1680 -848 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 100n
SYMATTR SpiceLine Rser=20m
SYMBOL ind 1680 -864 R0
SYMATTR InstName L6
SYMATTR Value 50n
SYMATTR SpiceLine Rser=20m
SYMBOL res 624 272 R0
SYMATTR InstName R13
SYMATTR Value 20
SYMBOL ind 1680 -784 R0
SYMATTR InstName L9
SYMATTR Value 50n
SYMATTR SpiceLine Rser=20m
SYMBOL res 560 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 200
SYMBOL npn 512 144 M0
SYMATTR InstName Q12
SYMATTR Value 2N5550
SYMBOL res 640 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 680
SYMBOL res -48 176 R0
SYMATTR InstName R33
SYMATTR Value 300
SYMBOL res -48 -1056 R0
WINDOW 3 36 76 Invisible 2
SYMATTR Value {1+(1k*LTPBIAS)}
SYMATTR InstName PBIAS2
SYMBOL res -48 -976 R0
SYMATTR InstName R8
SYMATTR Value 200
SYMBOL res 624 -96 R0
SYMATTR InstName R26
SYMATTR Value 100
SYMBOL pnp 768 48 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q11
SYMATTR Value 2SA1381F
SYMBOL ind 1488 400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L10
SYMATTR Value 20n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1488 464 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L11
SYMATTR Value 20n
SYMATTR SpiceLine Rser=10m
SYMBOL res 1024 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value 10
SYMBOL polcap 912 208 R0
SYMATTR InstName C11
SYMATTR Value 470µ
SYMATTR SpiceLine V=50 Irms=2.5 Rser=0.055 Lser=20n Rpar=40k Cpar=3p
SYMATTR Description Capacitor
SYMATTR Type cap
TEXT 144 -1488 Left 2 !.op
TEXT -560 -1344 Left 2 !.option plotwinsize=0
TEXT -560 -1312 Left 2 !.option noopiter
TEXT -560 -1616 Left 2 ;Transient
TEXT -560 -1456 Left 2 ;.four {freq} 10 {iterations} v(SPK+,SPK-)
TEXT 144 -1520 Left 2 !.param prb=0
TEXT -560 -1520 Left 2 !.param timestep={1/((65536/8)*freq)}
TEXT -560 -1552 Left 2 !.param freq=600
TEXT -560 -1488 Left 2 !.param stoptime {iterations/freq}
TEXT 144 -1584 Left 2 ;.ac oct 100 10 100meg
TEXT 144 -1552 Left 2 ;.step param prb list -1 1
TEXT 144 -1616 Left 2 ;AC analysis
TEXT -560 -1424 Left 2 !.param iterations=100
TEXT 152 -1280 Left 2 !.param Zimp=8
TEXT 1376 -1216 Left 2 !.param Zreal Zimp/2
TEXT 1376 -1184 Left 2 !.param Zimg (Zimp*sqrt(3))/(4*pi*freq)
TEXT 152 -1248 Left 2 !.param supplyPWR=40
TEXT 152 -1216 Left 2 !.param supplyVLT={18}
TEXT 152 -1312 Left 2 !.param voutput=16
TEXT 152 -1184 Left 2 !.param supplyK 0.06
TEXT 2064 -16 Left 2 !.param rser {(supplyVLT*supplyVLT*supplyK)/(2*supplyPWR)}
TEXT -560 -1584 Left 2 !.tran 0 {stoptime} 100n {timestep}
TEXT 2064 16 Left 2 !.param phi=90
TEXT 504 -1312 Left 2 !.param con1_len=5
TEXT 504 -1280 Left 2 !.param con2_len 10
TEXT 1376 -1248 Left 2 !KCON2 LSPKP LSPKN2 0.8
TEXT 1360 -1616 Left 2 ;Konektor zvucnika i zvucnik
TEXT 2032 -1616 Left 2 ;Konektor napajanja, star ground i napajanje
TEXT 152 -1344 Left 2 ;Ulazni parametri kola
TEXT 992 -1616 Center 2 ;AC sonda
TEXT -560 -1248 Left 2 !.lib ../spice_root/lib/FCS_D.lib
TEXT 504 -1248 Left 2 !.param BIAS=0.48
TEXT -560 -1280 Left 2 !.param vinput voutput*(nfb1/nfb2)
TEXT 504 -1216 Left 2 !.param nfb1=200
TEXT 504 -1184 Left 2 !.param nfb2=3k
TEXT 1488 -328 Left 2 ;1W
TEXT 1896 -232 Left 2 ;1W
TEXT -544 -1072 Left 2 ;4 ohm, 10 cycles, 90W
TEXT -544 -1040 Left 2 ;8 ohm, 10 cycles, 50W
TEXT 152 -1456 Left 2 ;.step temp 0 60 20
TEXT 1336 -496 Left 2 ;5W
TEXT 1336 -344 Left 2 ;5W
TEXT 2048 160 Left 2 !.lib ../spice_root/lib/ONNN_BJT.lib
TEXT 2048 224 Left 2 !.lib ../spice_root/lib/STM_D.lib
TEXT 2048 128 Left 2 !.lib ../spice_root/lib/FCS_BJT.lib
TEXT 2048 192 Left 2 !.lib ../spice_root/lib/ONNN_D.lib
TEXT 2048 256 Left 2 !.lib ../spice_root/lib/TSE_BJT.lib
TEXT 2048 288 Left 2 !.lib ../spice_root/lib/VSH_FET.lib
TEXT -560 -1216 Left 2 !.param LTPBIAS=0.48
RECTANGLE Normal 96 -1632 -576 -1392
RECTANGLE Normal 96 -1152 -576 -1360
RECTANGLE Normal 800 -1632 128 -1392
RECTANGLE Normal 1952 -1152 1344 -1632 2
RECTANGLE Normal 1120 -1152 864 -1632 2
RECTANGLE Normal 2400 -816 2160 -1584 2
RECTANGLE Normal 800 -1152 128 -1360
RECTANGLE Normal 3040 64 2016 -1632 2
RECTANGLE Normal 2848 320 2016 96
